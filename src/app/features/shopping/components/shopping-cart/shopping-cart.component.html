<h1>Shopping cart</h1>
<ng-container *ngIf="cart$ | async as cart">
  <p>
    You have {{ cart.totalItemsCount }} items inn your shopping cart
  </p>
  <div class="row col-10 offset-1">
    <table class="table">
        <thead>
          <tr>
            <th></th>
            <th class="text-left">Product</th>
            <th class="text-center" style="width: 250px">Quantity</th>
            <th class="text-right" style="width: 200px">Price</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cart.items">
            <td>
              <div class="thumbnail" [style.backgroundImage]="'url(' + item.imageUrl + ')'"></div>
            </td>
            <td class="text-left">
              {{ item.title }}
            </td>
            <td>
              <lw-product-quantity
                [shopping-cart]="cart"
                [product]="item"
              ></lw-product-quantity>
            </td>
            <td class="text-right" >
              {{ item.totalPrice | currency:'EUR':'symbol':'0.2-2':'fi' }}
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th></th>
            <th></th>
            <th></th>
            <th class="text-right" > {{ cart.totalPrice | currency:'EUR':'symbol':'0.2-2':'fi' }} </th>
          </tr>
        </tfoot>
      </table>
  </div>
  <button 
    (click)="clearCart()"
    class="btn btn-danger btn-sm">
    Clear Shopping Cart
  </button>
</ng-container>

